<template>
  <div class="grid">
    <div class="item photo">
      <div class="title"><h3>2: Photo</h3></div>
      <img class="photothumb" src="https://via.placeholder.com/150" />
      <div class="desc">
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce
          facilisis fringilla laoreet. Mauris mattis enim ut felis consectetur,
          vitae lacinia enim auctor. Aenean vitae fermentum odio. Lorem ipsum
          dolor sit amet, consectetur adipiscing elit. Sed dictum non orci ut
          dignissim. Fusce fermentum felis aliquam, mattis nibh ut, faucibus
          leo. Sed lectus libero, volutpat at eros quis, venenatis tempus neque.
          Nulla vel .
        </p>
      </div>
    </div>
    <div class="item photo">
      <div class="title"><h3>3: Photo</h3></div>
      <img class="photothumb" src="https://via.placeholder.com/150" />
      <div class="desc"><p>Lorem ipsum dolor sit amet, conse</p></div>
    </div>
    <div class="item project">
      <div class="title"><h3>4: Project</h3></div>
      <div class="desc">
        <img src="https://via.placeholder.com/150" />
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce
          facilisis fringilla laoreet. Mauris mattis enim ut felis consectetur,
          vitae lacinia enim auctor. Aenean vitae fermentum odio. Lorem ipsum
          dolor sit amet, consectetur adipiscing elit. Sed dictum non orci ut
          dignissim. Fusce fermentum felis aliquam, mattis nibh ut, faucibus
          leo. Sed lectus libero, volutpat at eros quis, venenatis tempus neque.
          Nulla vel faucibus orci, nec convallis ligula. Quisque maximus gravida
          orci, in lacinia mauris pretium nec. Sed et enim bibendum, fermentum
          tellus eu, eleifend ex. Aliquam lectus magna, sollicitudin vitae
          placerat ac, semper ut risus. Nunc vestibulum lacus et nulla volutpat
          auctor.
        </p>
      </div>
    </div>
    <div class="item project">
      <div class="title"><h3>5: Project</h3></div>
      <div class="desc">
        <img src="https://via.placeholder.com/150" />
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce
          facilisis fringilla laoreet. Mauris mattis enim ut felis consectetur,
          vitae lacinia enim auctor. Aenean vitae fermentum odio. Lorem, nec
          convallis ligula. Quisque maximus
        </p>
      </div>
    </div>
    <div class="item blog">
      <div class="title"><h3>6: Blog Post</h3></div>
      <div class="desc">
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce
          facilisis fringilla laoreet. Mauris mattis enim ut felis consectetur,
          vitae lacinia enim auctor. Aenean vitae fermentum odio. Lorem ipsum
          dolor sit amet, consectetur adipiscing elit. Sed dictum non orci ut
          dignissim. Fusce fermentum felis aliquam, mattis nibh ut, faucibus
          leo. Sed lectus libero, volutpat at eros quis, venenatis tempus neque.
          Nulla vel faucibus orci, nec convallis ligula. Quisque maximus gravida
          orci, in lacinia mauris pretium nec. Sed et enim bibendum, fermentum
          tellus eu, eleifend ex. Aliquam lectus magna, sollicitudin vitae
          placerat ac, semper ut risus. Nunc vestibulum lacus et nulla volutpat
          auctor.
        </p>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce
          facilisis fringilla laoreet. Mauris mattis enim ut felis consectetur,
          vitae lacinia enim auctor. Aenean vitae fermentum odio. Lorem ipsum
          dolor sit amet, consectetur adipiscing elit. Sed dictum non orci ut
          dignissim. Fusce fermentum felis aliquam, mattis nibh
        </p>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce
          facilisis fringilla laoreet. Mauris mattis enim ut felis consectetur,
          vitae lacinia enim auctor. Aenean vitae fermentum odio. Lorem ipsum
          dolor sit amet, consectetur adipiscing elit. Sed dictum non orci ut
          dignissim. Fusce fermentum felis aliquam, mattis nibh
        </p>
      </div>
    </div>
    <div class="item project">
      <div class="title"><h3>7: Project</h3></div>
      <div class="desc">
        <img src="https://via.placeholder.com/150" />
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce
          facilisis fringilla laoreet. Mauris mattis enim ut felis consectetur,
          vitae lacinia enim auctor. Aenean vitae fermentum odio. Lorem ipsum
          dolor sit amet, consectetur adipiscing elit. Sed dictum non orci ut
          dignissim. Fusce fermentum felis aliquam, mattis nibh ut, faucibus
          leo. Sed lectus libero, volutpat at eros quis, venenatis tempus neque.
          Nulla vel faucibus orci, nec convallis ligula. Quisque maximus gravida
          orci, in lacinia mauris pretium nec. Sed et enim bibendum, fermentum
          tellus eu, eleifend ex. Aliquam lectus magna, sollicitudin vitae
          placerat ac, semper ut risus. Nunc vestibulum lacus et nulla volutpat
          auctor.
        </p>
      </div>
    </div>
    <div class="item blog">
      <div class="title"><h3>8: Blog Post</h3></div>
      <div class="desc">
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce
          facilisis fringilla laoreet. Mauris mattis enim ut felis consectetur,
          vitae lacinia enim auctor. Aenean vitae fermentum odio. Lorem ipsum
          dolor sit amet, consectetur adipiscing elit. Sed dictum non orci ut
          dignissim. Semper ut risus.
        </p>
      </div>
    </div>
    <div class="item photo">
      <div class="title"><h3>9: Photo</h3></div>
      <img class="photothumb" src="https://via.placeholder.com/150" />
      <div class="desc">
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce
          facilisis
        </p>
      </div>
    </div>
    <div class="item blog">
      <div class="title"><h3>10: Blog Post</h3></div>
      <div class="desc">
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce
          facilisis fringilla laoreet. Mauris mattis enim ut felis consectetur,
          vitae lacinia enim auctor. Aenean vitae fermentum odio. Lorem ipsum
          dolor sit amet, consectetur adipiscing elit. Sed dictum non orci ut
          dignissim. Fusce fermentum felis aliquam, mattis nibh ut, faucibus
          leo. Sed lectus libero, volutpat at eros quis, venenatis tempus neque.
          Nulla vel faucibus orci, nec convallis ligula. Quisque maximus gravida
          orci, in lacinia mauris pretium nec. Sed et enim bibendum, fermentum
          tellus eu, eleifend ex. Aliquam lectus magna, sollicitudin vitae
          placerat ac, semper ut risus.
        </p>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce
          facilisis fringilla laoreet. Mauris mattis enim ut felis consectetur,
          vitae lacinia enim auctor. Aenean vitae fermentum odio. Lorem ipsum
          dolor sit amet, consectetur adipiscing elit. Sed dictum non orci ut
          dignissim. Fusce fermentum felis aliquam, mattis nibh ut, faucibus
          leo. Sed lectus libero, volutpat at eros quis, venenatis tempus neque.
          Nulla vel faucibus orci, nec convallis ligula. Quisque maximus gravida
          orci, in lacinia mauris pretium nec. Sed et enim bibendum, fermentum
          tellus eu, eleifend ex. Aliquam lectus magna, sollicitudin vitae
          placerat ac, semper ut risus.
        </p>
      </div>
    </div>
    <div class="item photo">
      <div class="title"><h3>11: Photo</h3></div>
      <img class="photothumb" src="https://via.placeholder.com/150" />
      <div class="desc">
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce
          facilisis fringilla laoreet. Mauris mattis enim ut felis consectetur,
          vitae lacinia enim auctor. Aenean vitae fermentum odio. Lorem ipsum
          dolor sit amet, consectetur adipiscing elit. Sed dictum non orci ut
          dignissim. Fusce fermentum felis aliquam,
        </p>
      </div>
    </div>
    <div class="item project">
      <div class="title"><h3>12: Project</h3></div>
      <div class="desc">
        <img src="https://via.placeholder.com/150" />
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce
          facilisis fringilla laoreet. Mauris mattis enim ut felis consectetur,
          vitae lacinia enim auctor. Aenean vitae fermentum odio. Lorem ipsum
          dolor sit amet, consectetur adipiscing elit. Sed dictum non orci ut
          dignissim. Fusce fermentum felis aliquam,
        </p>
      </div>
    </div>
  </div>
</template>

<script>
(function() {
  window.addEventListener("load", resize);
  window.addEventListener("resize", resize);

  function resize() {
    const grid = document.querySelector(".grid");
    //console.log(grid);
    var gridObj = window.getComputedStyle(grid);
    //console.log(gridObj);
    var gridRowsValue = gridObj.getPropertyValue("grid-auto-rows");
    //console.log(parseInt(gridRowsValue));
    const rowHeight = getStyleValue(grid, "grid-auto-rows");
    const rowGap = getStyleValue(grid, "grid-row-gap");

    //console.log(window.getComputedStyle(document.querySelector(".grid")).getPropertyValue("grid-auto-rows"));
    grid.style.gridAutoRows = "auto";
    grid.style.alignItems = "self-start";

    grid.querySelectorAll(".item").forEach(item => {
      item.style.gridRowEnd = `span ${Math.ceil(
        (item.clientHeight + rowGap) / (rowHeight + rowGap)
      )}`;
    });
    grid.removeAttribute("style");
  }

  function getStyleValue(element, style) {
    return parseInt(window.getComputedStyle(element).getPropertyValue(style));
  }
})();

export default {
  name: "App",
  components: {},
  data: function() {
    return {};
  }
};
</script>

<style>
.grid {
  grid-auto-rows: 40px;
  display: grid;
  grid-gap: 10px;
  /*minmax(min, max) Is a functional notation that defines a size range greater than or equal to min and less than or equal to max. If max is smaller than min, then max is ignored and the function is treated as min. As a maximum, a <flex> value sets the track’s flex factor. It is invalid as a minimum*/
  /*With CSS Grid Layout, we get a new flexible unit: the Fr unit. Fr is a fractional unit and 1fr is for 1 part of the available space.*/
  /*same as the item width to avoid overlap*/
  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
}

/* Unnecessary fluff */
.item {
  width: 250px;
}
.item:nth-child(1n) {
  background-color: #ccc;
}
.photothumb {
  width: 100%;
}
.desc img {
  width: 50%;
  float: left;
}
</style>
